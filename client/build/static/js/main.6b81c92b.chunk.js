(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(143)},110:function(e,t,a){},139:function(e){e.exports={newTime:"2020-08-31T18:28:11.614Z",data:{token_type:"Bearer",scope:"user_impersonation",expires_in:"3599",ext_expires_in:"3599",expires_on:"1598898491",not_before:"1598894591",resource:"https://org60ab6.api.crm3.dynamics.com",access_token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImppYk5ia0ZTU2JteFBZck45Q0ZxUms0SzRndyIsImtpZCI6ImppYk5ia0ZTU2JteFBZck45Q0ZxUms0SzRndyJ9.eyJhdWQiOiJodHRwczovL29yZzYwYWI2LmFwaS5jcm0zLmR5bmFtaWNzLmNvbSIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2Q0NjA2NWYxLWRkZTctNDg2My1hMjE1LTY1OGYzYTM1M2U3Ni8iLCJpYXQiOjE1OTg4OTQ1OTEsIm5iZiI6MTU5ODg5NDU5MSwiZXhwIjoxNTk4ODk4NDkxLCJhY3IiOiIxIiwiYWlvIjoiRTJCZ1lIQTFQWjNWYUxYWU9pZ3Q5MXR4OUJtSG5PYTlzVmsrMVpwbWkyWlAwUENKK2d3QSIsImFtciI6WyJwd2QiXSwiYXBwaWQiOiJlZGEwM2Q3MC1kOGExLTQ3ZjYtYWMxZi01MGI1ZTU4MjU3MTYiLCJhcHBpZGFjciI6IjEiLCJmYW1pbHlfbmFtZSI6Ik1pc3JhIiwiZ2l2ZW5fbmFtZSI6IkFyeWFuIiwiaXBhZGRyIjoiMjA1LjE4OS4xODcuNCIsIm5hbWUiOiJBcnlhbiBNaXNyYSIsIm9pZCI6ImZlYzYxNjMzLWNkYzktNDI1MS04OGQ3LTkzMTNhZTU1MTIyYiIsInB1aWQiOiIxMDAzMjAwMEQ5QzZERjJEIiwicmgiOiIwLkFBQUE4V1ZnMU9mZFkwaWlGV1dQT2pVLWRuQTlvTzJoMlBaSHJCOVF0ZVdDVnhadkFOTS4iLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiJFekxaQWpGWjhxempUcFJrV3NVUVBHRWlQUG5KT3BaeG1JUjI4S2p1bnh3IiwidGlkIjoiZDQ2MDY1ZjEtZGRlNy00ODYzLWEyMTUtNjU4ZjNhMzUzZTc2IiwidW5pcXVlX25hbWUiOiJhcnlhbm1pc3JhQGFyeWFubWlzcmEub25taWNyb3NvZnQuY29tIiwidXBuIjoiYXJ5YW5taXNyYUBhcnlhbm1pc3JhLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6ImJBcS10UXZ4M1VxVWFYQ1VmTmlnQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCJdfQ.tCEVC1a6hqoJl6ow6bMJJwQaFzjOnBy0NovqxloBmru2mAq9jHzntRYSV6vI0HXXGFLjpHHlZIXLSrMXcfM1pgBvzxcXvNsgGgHk8SpV80Z_1wuSLOVcSUfUB8HlGvAuGJ7IvxlroCXl4miVFm9vXWFCtXLXvnez6DxRFQri_X4trhEoizYWkQDpq_iArRSRJKE5Tb0V1TIdJRh87jMa0mwnb3gwbljzUplpjFmHlN-LHewrTgijkNzqNPdPtjb_Up2pQhjKMurgXCfuSzGnOnjtcYwzTpzCFbBvvviFMNyUnRNKchbdLQfMbqmT-Py3LpHGzAYyLWhpoDwHqEnMqg",refresh_token:"0.AAAA8WVg1OfdY0iiFWWPOjU-dnA9oO2h2PZHrB9QteWCVxZvANM.AgABAAAAAAAGV_bv21oQQ4ROqh0_1-tAAQDs_wIA9P84-z6FI877bfvnKK5mP4uvRKhXzGDKAkP-vzKjg491UdC8Q5qxQ49NrhVU1noIEcc6wKDsGgoNTdC0lf2_-baFYamNWDAZ7Wdz1sH2XJudS-q2u_EhphH5toxuDno2Gb97uwpoPWl6qUQVgrOLCH8Xp73XpQcd1uq4KB_BJf4mQWfG9khn0PRhE19FICgW23mlFU835F_oODmW1iDseYibL0vJp9DN9gjciACcxBRU3HWENQGmjgdSSftXLwhuN7K7UtIBKekJFMOYhHaTjyzFJi-2iJ5VJsgXDcdyTSyvvOu9kR3EnTzTGTjQ8BpfYLIJBmeDlJ74lZiIqzfbXWZYPRdKbW3iwqn2fBsG8CJL_ZoaDUNeM5_nfoATXYRE-yTGboviz_SZis_tNjQ2CqyZYS66R0bamr9PS2beud0BXBvHjd9QAoc6zesCGms_kByxKEgzJqr3GT8-C8Xj8bqaXwytveN60vXNQZ2qYPj5Jkp9QOjnIUa0WmjasCrBjltWcTDUlj0_Qka48c9fJRnxe_pvOpA7zY21aRSiaDW_WwmsygkkeVNOd6bIHDl7znJg_sOhk7tkSc17PeBHGTkmvXimmjT65ZIWHlvJ005I-gKc-pBmz2JVKJikNED0DnLnTg-TAPVQ68BgmlsUt5hfqu-lJ9-wnQZF6IfD_qwQT9t1diOW9hRboCRZRNwwJXaj8_-IVUPfZJ29Mtyu1nW_0CogmltwrkLHh9qEi3zUGHgcRj2aI4sj5TzBpjeurg5ucGaThJJ25OsqExbbTyRYr5ADKFeVDc38LblMdW_YY-1RTcZpcGhwgh6bNaHV0lzPWclVflIBcC_EmQi-a5p1Vw4dSqZx3wqqu35bbey3YQACh7qc4tlzx7F1C-J9teNfYPqeM4gA0p1DIQq1RxQ"}}},140:function(e){e.exports={}},141:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),s=(a(110),a(14)),l=a(15),c=a(17),m=a(16),u=a(18),p=a(207),d=a(209),h=a(210),g=a(63),f=a(33),b=a(90),v=a(25),y=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},w={isAuthenticated:!1,user:{}},E={},_=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(v.a)({},e,{isAuthenticated:!y(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"CLEAR_ERRORS":return{};default:return e}}}),j=[b.a],x=Object(f.d)(_,{},f.a.apply(void 0,j)),S=a(205),O=a(95),k=a(195),C=a(40),I=a.n(C),T=function(e){e?I.a.defaults.headers.common.Authorization=e:delete I.a.defaults.headers.common.Authorization},R=(a(91),function(e){return{type:"SET_CURRENT_USER",payload:e}}),z=a(68),L=a(92),N=a.n(L),D=a(23),A=a(5),W=a(192),F=a(96),J=a(212),U=a(193),q=a(194),M=a(65),Y=a.n(M),Q=Object(A.a)({paper:{border:"1px solid #d3d4d5"}})(function(e){return r.a.createElement(F.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}),Z=Object(A.a)(function(e){return{root:{"&:focus":{backgroundColor:"#F2F2F2","& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:"black"}}}}})(J.a);function B(){var e=r.a.useState(null),t=Object(D.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,r.a.createElement(W.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"#8EBC51",onClick:function(e){n(e.currentTarget)}},"Menu"),r.a.createElement(Q,{id:"customized-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)}},r.a.createElement(Z,null,r.a.createElement(U.a,null,r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(q.a,{primary:"App 1"})),r.a.createElement("a",{href:"/"},r.a.createElement(Z,null,r.a.createElement(U.a,null,r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(q.a,{primary:"App 2"}))),r.a.createElement(Z,null,r.a.createElement(U.a,null,r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(q.a,{primary:"App 3"}))))}var G=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/feed"},"Post Feed")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/dashboard"},r.a.createElement(z.a,{component:"h1",variant:"h5"},"Dashboard"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"#",onClick:this.onLogoutClick.bind(this),className:"nav-link"},r.a.createElement("img",{className:"rounded-circle",src:a.avatar,alt:a.name,style:{width:"25px",marginRight:"5px"},title:"You must have a Gravatar connected to your email to display profile image"})," ","Logout"))),i=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/register"},"Sign Up (still broken) Q")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{className:"nav-link",to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-green mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(k.a,{className:"navbar-brand",to:"/"},r.a.createElement("div",null,r.a.createElement("img",{src:N.a,style:{width:200,fill:"white"},alt:"website logo"}))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(B,null))),t?n:i)))}}]),t}(n.Component),V=Object(g.b)(function(e){return{auth:e.auth}},{logoutUser:function(){return function(e){localStorage.removeItem("jwtToken"),T(!1),e(R({}))}}})(G),X=a(67),P=a(200),H=a(204),K=a(211),$=a(201),ee=a(202),te=a(203),ae=a(191),ne=a(39),re=a(36),ie=a.n(re),oe=a(66),se=a(139),le="https://org60ab6.api.crm3.dynamics.com/api/data/v9.1/";function ce(){return(ce=Object(oe.a)(ie.a.mark(function e(t){var a,n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return","something");case 4:return a=le+"accounts?$filter=fsc_organizationtype ne null",e.next=7,fetch(a,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}});case 7:return n=e.sent,e.abrupt("return",n.json());case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(){return(me=Object(oe.a)(ie.a.mark(function e(t){var a,n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=le+"new_organization_requirements?$filter=_new_fsc_organization_value eq '".concat(t,"'"),e.next=3,fetch(a,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(){return(ue=Object(oe.a)(ie.a.mark(function e(t){var a,n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=le+"fsc_sites?$filter=_fsc_coccompany_value eq ".concat(t),e.next=3,fetch(a,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var pe=a(208),de=a(213),he=a(197),ge=a(93),fe=a.n(ge),be=a(196),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={sites:[]},function(e){return ue.apply(this,arguments)}(a.props.id).then(function(e){a.setState({sites:e.value})}),console.log("rendering map"),Object(ne.loadModules)(["esri/map","esri/graphic","esri/graphicsUtils","esri/geometry/Point","esri/tasks/GeometryService","esri/tasks/Geoprocessor","esri/tasks/FeatureSet","esri/tasks/RelationParameters","esri/dijit/LayerList","esri/dijit/Legend","esri/dijit/BasemapGallery","esri/dijit/analysis/SummarizeNearby","esri/InfoTemplate","esri/layers/WFSLayer","esri/config","esri/layers/FeatureLayer","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleMarkerSymbol","esri/renderers/UniqueValueRenderer","esri/renderers/HeatmapRenderer","esri/renderers/SimpleRenderer","esri/Color","dojo/domReady!"],{css:!0}).then(function(e){var t=Object(D.a)(e,23),n=t[0],r=t[1],i=(t[2],t[3]),o=t[4],s=t[5],l=(t[6],t[7],t[8]),c=t[9],m=t[10],u=(t[11],t[12]),p=t[13],d=(t[14],t[15]),h=t[16],g=t[17],f=t[18],b=t[19],v=t[20],y=t[21],w=t[22],E=new n("map",{basemap:"topo-vector",center:[a.state.sites[0].fsc_longitude,a.state.sites[0].fsc_latitude],zoom:5}),_={url:"https://dservices8.arcgis.com/32TQOipPYLOeSkYk/arcgis/services/Tree_loss_cluster/WFSServer",version:"2.0.0",name:"Tree_loss_cluster"},j=new u("${COUNTRY}","<b>Travel Advisory: </b><p>${TravelAdvisory}</p><br><p>${RestrictionInfo}</p>"),x=new d("https://services1.arcgis.com/vY6WuhLW0HkFe6Fl/arcgis/rest/services/TravelAdvisoriesV3/FeatureServer/0",{mode:d.MODE_SNAPSHOT,showLabels:!0,outFields:["*"],infoTemplate:j}),S=(new g).setStyle(g.STYLE_NULL);S.outline.setStyle(h.STYLE_NULL);var O=new b(S,"TravelAdvisory");O.addValue("Avoid non-essential travel",(new g).setColor(new w([255,0,0,.5]))),O.addValue("Avoid non-essential travel with regional advisories",(new g).setColor(new w([0,255,0,.5]))),O.addValue("Avoid all travel",(new g).setColor(new w([0,0,255,.5]))),x.setRenderer(O);var k=new u("${Country_Region}","<b>Active Cases: </b><p>${Active}</p><br><b>Confirmed Cases: </b><p>${Confirmed}</p><br><b>Deaths: </b><p>${Deaths}</p><br><b>Recovered Cases: </b><p>${Recovered}</p><br>"),C=new d("https://services1.arcgis.com/0MSEUqKaxRlEPj5g/ArcGIS/rest/services/ncov_cases/FeatureServer/2",{mode:d.MODE_SNAPSHOT,outFields:["*"],infoTemplate:k}),I=new v({field:"Active",blurRadius:3,maxPixelIntensity:100,minPixelIntensity:0});C.setRenderer(I);var T=new d("https://services1.arcgis.com/RTK5Unh1Z71JKIiR/arcgis/rest/services/Corruption_Perception_Index_countries_layer/FeatureServer/0",{outFields:["*"],infoTemplate:new u("${NAME}","<b>CPI Score: </b><p>${CPI_Score_}</p><br><b>Rank: </b><p>${Rank}</p><br><b>Upper CI: </b><p>${Upper_CI}</p><br><b>Lower CI: </b><p>${Lower_CI}</p><br>")}),R=new y((new g).setOutline((new h).setWidth(.1).setColor(new w([128,128,128]))));R.setColorInfo({field:"CPI_Score_",minDataValue:0,maxDataValue:100,colors:[new w([255,255,255]),new w([127,127,0])]}),T.setRenderer(R);var z=new p;z.fromJson(_),E.addLayer(T),E.addLayer(x),E.addLayer(C),E.addLayer(z),new l({map:E,showLegend:!0,showSubLayers:!1,showOpacitySlider:!0,layers:[{layer:x},{layer:C},{layer:T},{layer:z}]},"layerListDom").startup(),new c({map:E,layerInfos:[{title:"Travel Advisories for Countries",layer:x},{title:"Covid Cases per Country",layer:C},{title:"Corruption Perception Index (CPI) for Countries",layer:T},{title:"Deforestation Tree Loss Clusters",layer:z}]},"legend").startup(),new o("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer"),new s("https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Network/ESRI_DriveTime_US/GPServer/CreateDriveTimePolygons").setOutSpatialReference({wkid:4326}),E.on("load",function(){a.state.sites.forEach(function(e){console.log(e);var t=[e.fsc_longitude,e.fsc_latitude],a=new r(new i(t),function(e,t){var a=new f;return a.setPath(e),a.setColor(new w(t)),a.setSize(50),a}("M32, 2a20, 20, 0, 0, 0-20, 20c0, 18, 20, 40, 20, 40s20-22, 20-40A20, 20, 0, 0, 0, 32, 2zm0, 28a8, 8, 0, 1, 1, 8-8, 8, 8, 0, 0, 1-8, 8z","#024823"));E.graphics.add(a)})});var L=new m({showArcGISBasemaps:!0,map:E},"basemapGallery");L.startup(),L.on("error",function(e){console.log("basemap gallery error:  ",e)})}).catch(function(e){return console.log(e)}),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){console.log(this.props.layers),this.setState(this.state)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{container:!0,spacing:3},r.a.createElement(be.a,{item:!0,xs:12,sm:3},r.a.createElement("div",{className:"webmap-controls",style:{paddingTop:10}},r.a.createElement(pe.a,{style:{borderRadius:5,paddingBottom:10}},r.a.createElement(de.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(z.a,null,"Basemap Gallery")),r.a.createElement(he.a,null,r.a.createElement("div",{id:"basemapGallery"}))),r.a.createElement("div",{id:"layerListDom"})),r.a.createElement("div",{id:"info"},r.a.createElement("div",{id:"legend"}))),r.a.createElement(be.a,{item:!0,xs:12,sm:9},r.a.createElement("div",{className:"webmap",id:"map"}))))}}]),t}(r.a.Component),ye=a(206),we=a(198),Ee=a(199),_e=function(e){var t=Object(n.useState)(e.data),a=Object(D.a)(t,2),i=a[0],o=a[1],s=Object(n.useState)(null),l=Object(D.a)(s,2),c=l[0],m=l[1],u=Object(n.useState)(""),p=Object(D.a)(u,2),d=p[0],h=p[1];Object(n.useEffect)(function(){o(e.data),function(e){var t=le+"fsc_requirment_type_per_coc_scenario_stds?$filter=fsc_requirment_type_per_coc_scenario_stdid eq '".concat(e,"'");return fetch(t,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}}).then(function(e){return e.json()}).then(function(e){var t=e.value[0]._fsc_std_element_id_value,a=le+"fsc_standards_elementses?$filter=fsc_standards_elementsid eq '".concat(t,"'");return fetch(a,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}})}).then(function(e){return e.json()}).then(function(e){var t=e.value[0]._fsc_standard_id_value,a=le+"fsc_standardses?$filter=fsc_standardsid eq '".concat(t,"'");return fetch(a,{method:"GET",headers:{Authorization:"Bearer "+se.data.access_token}})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(i._new_fsc_requirment_type_per_coc_scenario_value).then(function(e){m(e.value[0])}),h(i.new_coc_input)},[e.data]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{style:{marginTop:10,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#f2f2f2",borderRadius:5,padding:20,boxShadow:"0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"}},i!==e.data?r.a.createElement("h5",{style:{color:"red"}},"You have unsaved changes!"):null,r.a.createElement(be.a,{container:!0,spacing:1},r.a.createElement(be.a,{item:!0,xs:12,sm:6},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,c.fsc_standard_title),r.a.createElement("p",{style:{fontSize:"0.5rem"}},c.fsc_standard_comments),r.a.createElement("h5",null,d)):r.a.createElement(r.a.Fragment,null)),r.a.createElement(be.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{style:{float:"right",paddingRight:10}},r.a.createElement(ye.a,{variant:"outlined",label:"Notes",value:i.new_requirement_notes,onChange:function(e){console.log(i),o(Object(v.a)({},i,{new_requirement_notes:e.target.value}))},style:{paddingBottom:10}}),r.a.createElement(W.a,{onClick:function(){console.log(Object(v.a)({},i,{new_requirement_flag:!i.new_requirement_flag})),o(Object(v.a)({},i,{new_requirement_flag:!i.new_requirement_flag}))},style:{background:"#e3e3e3",paddingTop:10}},i.new_requirement_flag?r.a.createElement(we.a,null):r.a.createElement(Ee.a,null))))),r.a.createElement(W.a,{onClick:function(t){console.log(e.data),e.handleSave(i,e.index)},style:{background:"#e3e3e3",width:"100%"}},"Save")))},je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.setItem("docusign_loggedin",!0),console.log("set item into storage")}},{key:"render",value:function(){return r.a.createElement("h4",null,"Redirecting...")}}]),t}(r.a.Component),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleClickLogin=function(){window.open("http://localhost:5000/ds/login","_blank")},a.handleCeremony=function(){window.open("http://localhost:5000/dataSharing","_blank")},a.state={client_id:"e43b1a3d-91a3-4ed2-969d-d00dda3185ba"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{onClick:this.handleClickLogin},"Sign In to Docusign"),r.a.createElement(W.a,{onClick:this.handleCeremony},"Signing Ceremony"))}}]),t}(r.a.Component),Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleFlag=function(e,t){console.log(e,t)},a.handleNote=function(e,t){console.log(e,t)},a.handleChange=function(e,t){a.setState({value:t})},a.showData=function(){a.setState({showData:!0,showReview:!1})},a.showReview=function(){a.setState({showData:!1,showReview:!0})},a.handleCovidCasesToggle=function(){a.setState({mapLayerToggles:Object(v.a)({},a.state.mapLayerToggles,{covidCases:!a.state.mapLayerToggles.covidCases})})},a.handleCovidTravelToggle=function(){a.setState({mapLayerToggles:Object(v.a)({},a.state.mapLayerToggles,{covidTravelRisks:!a.state.mapLayerToggles.covidTravelRisks})})},a.handleDeforestationToggle=function(){a.setState({mapLayerToggles:Object(v.a)({},a.state.mapLayerToggles,{deforestation:!a.state.mapLayerToggles.deforestation})})},a.handleSaveOR=function(e,t){a.state.organizationRequirements[t]=e,console.log(e),function(e,t,a){var n=le+"new_organization_requirements(".concat(e,")"),r=JSON.stringify({new_requirement_flag:t,new_requirement_notes:a});fetch(n,{method:"PATCH",headers:{Authorization:"Bearer "+se.data.access_token,"Content-Type":"application/json"},body:r}).then(function(e){return console.log(e)})}(e.new_organization_requirementid,e.new_requirement_flag,e.new_requirement_notes),a.forceUpdate()},a.calculatePercentage=function(){var e=0;a.state.organizationRequirements.forEach(function(t){return t.new_requirement_flag&&(e+=1),console.log("hi"),"".concat(Math.round(e/a.state.organizationRequirements.length*1e4)/100,"%")}),a.forceUpdate()},a.buttonStyleData=function(){return a.state.showData?{background:"#e3e3e",width:"100%"}:a.state.showReview?{width:"100%"}:void 0},a.buttonStyleReview=function(){return a.state.showReview?{background:"#e3e3e",width:"100%"}:a.state.showData?{width:"100%"}:void 0},a.state={mapData:null,value:0,showData:!0,showReview:!1,organizationRequirements:[],percentageFlagged:null,mapLayerToggles:{covidTravelRisks:!1,covidCases:!1,deforestation:!1}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;(function(e){return me.apply(this,arguments)})(this.props.company.accountid).then(function(t){console.log(t.value),e.setState({organizationRequirements:t.value},function(){var t=0;e.state.organizationRequirements.forEach(function(e){e.new_requirement_flag&&(t+=1)}),console.log(t),console.log(e.state.organizationRequirements.length),e.setState({percentageFlagged:"".concat(Math.round(t/e.state.organizationRequirements.length*1e4)/100,"%")})})}),this.setState({mapData:null})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{component:"main",maxWidth:"lg"},r.a.createElement(be.a,{container:!0,spacing:3},r.a.createElement(be.a,{item:!0,xs:12},r.a.createElement(W.a,{onClick:this.props.handleCompanyClose,style:{background:"#e3e3e"}},"Back"),r.a.createElement("div",{className:t.dataDisplay},r.a.createElement(be.a,{container:!0,spacing:3},r.a.createElement(be.a,{item:!0,xs:!0},r.a.createElement(W.a,{onClick:this.showData,style:{background:this.state.showData?"white":"#e3e3e",width:"100%"},key:this.state.showData},"Data")),r.a.createElement(be.a,{item:!0,xs:!0},r.a.createElement(W.a,{onClick:this.showReview,style:{background:this.state.showReview?"white":"#e3e3e",width:"100%"},key:this.state.showReview},"Review"))),this.state.showData?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,this.props.company.name),r.a.createElement("h3",null,"FSC License Number: ",this.props.company.fsc_licensenumber),this.state.organizationRequirements&&this.state.organizationRequirements.map(function(t,a){return r.a.createElement(_e,{data:t,handleSave:e.handleSaveOR,index:a})})):null,this.state.showReview?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Review"),r.a.createElement("h4",null,"Percentage Flagged: ",this.state.percentageFlagged),r.a.createElement("ul",null,this.state.organizationRequirements.map(function(e){return e.new_requirement_flag?r.a.createElement(r.a.Fragment,null,"Hi"):r.a.createElement(r.a.Fragment,null)})),r.a.createElement(xe,null)):null)),r.a.createElement(be.a,{item:!0,xs:12},r.a.createElement(ve,{data:this.state.mapData,id:this.props.company.accountid,layers:this.state.mapLayerToggles,key:this.state.mapLayerToggles})))))}}]),t}(r.a.Component),Oe=Object(A.a)(function(e){return{dataDisplay:{marginTop:e.spacing(4),alignItems:"left",display:"flex",flexDirection:"column",backgroundColor:"#f2f2f2",borderRadius:5,padding:30,align:"left",boxShadow:"0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"}}})(Se),ke=(a(140),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSlideInc=function(){a.setState({answerList:[].concat(Object(X.a)(a.state.answerList),[1])})},a.handleSlideDec=function(){a.setState({answerList:[].concat(Object(X.a)(a.state.answerList),[0])})},a.handleAnswer=function(e){a.setState({answerList:[].concat(Object(X.a)(a.state.answerList),[e])})},a.handleOverride=function(e){a.setState({buttonLabels:[e[0],e[1]]})},a.handleCompanyView=function(e,t){console.log(t),a.setState({company:e,companyIndex:t},function(){a.setState({viewing:!0})})},a.handleCompanyClose=function(){a.setState({viewing:!1},function(){a.setState({company:null,companyIndex:null})})},a.state={maxSlide:5,dropDownValue:"",slide:1,answerList:[],buttonLabels:["No","Yes"],viewing:!1,companyData:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return ce.apply(this,arguments)})().then(function(t){console.log(t),e.setState({companyData:t.value})})}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.viewing?r.a.createElement(Oe,{company:this.state.company,handleCompanyClose:this.handleCompanyClose,index:this.state.companyIndex}):r.a.createElement(P.a,{component:"main",maxWidth:"md"},r.a.createElement("div",{className:t.paper},r.a.createElement($.a,{component:ae.a,style:{padding:15,width:"100%"}},r.a.createElement(ee.a,{style:{width:"100%"}},r.a.createElement(te.a,{style:{width:"100%"}},r.a.createElement(K.a,{style:{fontSize:20,width:"100%"}},"Company Name"),r.a.createElement(K.a,{style:{fontSize:20,width:"100%"}},"Organization Type"))),r.a.createElement(H.a,{style:{width:"100%"}},this.state.companyData&&this.state.companyData.map(function(t,a){return r.a.createElement(te.a,{key:t.name,style:{width:"100%"}},r.a.createElement(W.a,{style:{width:"100%"}},r.a.createElement(K.a,{style:{width:"100%",fontSize:14},align:"left",onClick:function(){return e.handleCompanyView(t,a)}},t.name)),r.a.createElement(K.a,{align:"left"},"".concat(1===(n=t.fsc_organizationtype)?"Certificate Holder":2===n?"Certification Body":3===n?"ASI":4===n?"Applicant":"Invalid Organization Type")));var n})))))}}]),t}(r.a.Component)),Ce=Object(A.a)(function(e){return{center:{display:"flex",flexDirection:"column",alignItems:"center"},dataDisplay:{marginTop:e.spacing(8),alignItems:"center",display:"flex",flexDirection:"column",backgroundColor:"#f2f2f2",borderRadius:5,padding:10,align:"left",boxShadow:"0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#f2f2f2",borderRadius:5,padding:20,boxShadow:"0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)"},avatar:{margin:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},table:{minWidth:650},mapView:{height:"400px",marginTop:e.spacing(8),padding:10}}})(ke),Ie=(a(141),Object(O.a)({typography:{fontFamily:"Quicksand",fontSize:12,fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600}})),Te=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return Object(ne.setDefaultOptions)({version:"3.33"}),r.a.createElement(S.a,{theme:Ie},r.a.createElement(g.a,{store:x},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/",component:Ce}),r.a.createElement(h.a,{path:"/callback",component:je}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a.p+"static/media/acorn-green-nofill-text.5c6e1a83.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.6b81c92b.chunk.js.map